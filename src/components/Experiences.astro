---
import ExperienceItem from "./ExperienceItem.astro";
import { Experience } from "../scripts/models/experience";
import { Home } from "../scripts/models/home";

interface Props {
	home: Home;
	experiences: Experience[];
}

const { home, experiences } = Astro.props;

const sortedExperiences = experiences
	.sort((n1, n2) => (n1.orderDate > n2.orderDate ? 1 : n1.orderDate < n2.orderDate ? -1 : 0))
	.reverse();
---

<section class="bg-mirage dark:bg-gray-900 body-font" id="experience">
	<div class="container px-5 py-5 mx-auto md:py-14">
		<h3
			class="w-full mt-8 mb-10 text-3xl font-extrabold tracking-tighter text-center md:text-left text-cool md:text-6xl dark:text-pale lg:mt-0"
		>
			{home.experiencesLabel}
		</h3>
		<div class="flex flex-wrap -m-1 md:-m-2">
			{
				sortedExperiences.map((experience: Experience) => (
					<div class="flex flex-wrap w-full md:w-1/2 lg:w-1/3 p-2">
						<ExperienceItem experience={experience} />
					</div>
				))
			}
		</div>
	</div>
</section>
